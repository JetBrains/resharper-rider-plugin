<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="referrer" content="origin" />
    <title>Fooo</title>
</head>
<body>

<h1>HTML DOM Events</h1>
<h2>The onclick Event</h2>

<p>The onclick event triggers a function when an element is clicked on.</p>
<p>Click to trigger a function that will output "Hello World":</p>

<img src="jetbrains.png" width="200" height="200" alt="JetBrains Logo"/>

<button onclick="myFunction()">Click me</button>

<p id="demo"></p>

<script>
    function myFunction() {
        document.getElementById("demo").innerHTML = "Hello World";

        const event = new CustomEvent("messageSentEvent", {
            detail: {
                data: "IDE alert from web page!",
                type: "SendMessage"
            }
        });
        document.dispatchEvent(event);
    }

    function showMessage(data) {
        alert(data.message);
    }

    document.addEventListener('messageReceivedEvent', (message) => {
        if (message.detail.type === 'ShowMessage')
            showMessage(message.detail.data);
        else
            alert("Unhandled " + message.detail.type);
    });
</script>

</body>
</html>
